(this["webpackJsonpfunnel-state-machine"]=this["webpackJsonpfunnel-state-machine"]||[]).push([[0],{37:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var i=n(2),a=n.n(i),c=n(28),r=n.n(c),o=(n(37),n(32)),d=n(45),s=n(3),j=a.a.createContext({});var l=function(t){var e,n,i=t.stateMachine,a=t.children,c=Object(d.a)(i),r=Object(o.a)(c,2),l=r[0],b=r[1];return console.log(l.context),Object(s.jsxs)(j.Provider,{value:{currentState:l,send:b},children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:" Current Context "}),Object(s.jsx)("h3",{children:" Chosen Activity"}),Object(s.jsxs)("p",{children:[" ",null!==(e=l.context.activity)&&void 0!==e?e:"Not picked yet"]}),Object(s.jsx)("h3",{children:" List of attendees "}),Object(s.jsx)("div",{children:l.context.attendees.length>0?l.context.attendees.map((function(t){return Object(s.jsx)("p",{children:"".concat(t.name," ").concat(t.surname)},t.name)})):"No attendee added yet"}),Object(s.jsx)("h3",{children:" Additional Information "}),Object(s.jsx)("p",{children:null!==(n=l.context.additional_information)&&void 0!==n?n:"No additional info yet"})]}),Object(s.jsx)("hr",{}),a]})},b=function(t){var e=t.state,n=t.children,a=Object(i.useContext)(j),c=a.currentState,r=a.send;return c.matches(e)?Object(s.jsx)("div",{children:n(r)}):Object(s.jsx)("div",{})},u="SELECT_ACTIVITY",O="SUBMIT_ADDITIONNAL_INFORMATION",x=n(10),h=function(t){var e=t.onSubmit;return Object(s.jsx)(x.d,{onSubmit:function(t){return e(t.activity)},initialValues:{activity:""},children:Object(s.jsxs)(x.c,{children:[Object(s.jsx)("h2",{children:"Pick an activity "}),Object(s.jsx)(x.a,{name:"activity"}),Object(s.jsxs)("label",{children:[Object(s.jsx)(x.b,{name:"activity",type:"radio",value:"escape-game"}),"Escape Game"]}),Object(s.jsxs)("label",{children:[Object(s.jsx)(x.b,{name:"activity",type:"radio",value:"bowling"}),"Bowling"]}),Object(s.jsx)("div",{style:{marginTop:"8px"},children:Object(s.jsx)("button",{type:"submit",children:" Next "})})]})})},m=function(t){var e=t.addAttendee,n=t.proceedToPayment,i=t.addInfo;return Object(s.jsx)(x.d,{onSubmit:function(t){n(t)},initialValues:{name:"",surname:""},children:function(t){var a=t.values,c=t.resetForm;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Pick an activity "}),Object(s.jsx)(x.a,{name:"activity"}),Object(s.jsxs)("label",{children:[Object(s.jsx)(x.b,{name:"name"}),"Name"]}),Object(s.jsxs)("label",{children:[Object(s.jsx)(x.b,{name:"surname"}),"Surname"]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:function(){e(a),c()},children:"Submit and add another"}),Object(s.jsx)("button",{onClick:function(){n(a)},children:"Proceed to payment"}),Object(s.jsx)("button",{onClick:function(){i(a)},children:"Enter additional information"})]})]})}})},f=function(t){var e=t.onSubmit;return Object(s.jsx)(x.d,{onSubmit:function(t){return e(t.additionalInformation)},initialValues:{additionalInformation:""},children:Object(s.jsxs)(x.c,{children:[Object(s.jsx)("h2",{children:"Enter additional information"}),Object(s.jsx)(x.a,{name:"additionalInformation"}),Object(s.jsx)("label",{children:Object(s.jsx)(x.b,{name:"additionalInformation"})}),Object(s.jsx)("button",{type:"submit",children:" Proceed to Payment "})]})})},v=n(18),y=n(46),p=n(6),T=Object(y.a)({id:"funnel-state-machine",initial:"activity",context:{activity:void 0,attendees:[],additional_information:void 0,payment:void 0},states:{activity:{on:{SELECT_ACTIVITY:"register_attendee"},exit:["setActivity"]},register_attendee:{on:{ADD_ATTENDEE:"register_attendee",ADD_INFO:"additional_information",SUBMIT_ATTENDEE:"payment"},exit:["addattendee"]},additional_information:{on:{SUBMIT_ADDITIONNAL_INFORMATION:"payment"},exit:["setAdditionalInformation"]},payment:{type:"final"}}},{actions:{setActivity:Object(p.b)((function(t,e){return e.type!==u?t:Object(v.a)(Object(v.a)({},t),{},{activity:e.data})})),addattendee:Object(p.b)((function(t,e){switch(e.type){case"ADD_ATTENDEE":case"SUBMIT_ATTENDEE":case"ADD_INFO":return{context:t,attendees:t.attendees.concat(e.data)};default:return t}})),setAdditionalInformation:Object(p.b)((function(t,e){return e.type!==O?t:Object(v.a)(Object(v.a)({},t),{},{additional_information:e.data})}))}});n(41);var I=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(l,{stateMachine:T,children:[Object(s.jsx)(b,{state:"activity",children:function(t){return Object(s.jsx)(h,{onSubmit:function(e){t({type:u,data:e})}})}}),Object(s.jsx)(b,{state:"register_attendee",children:function(t){return Object(s.jsx)(m,{addAttendee:function(e){return t({type:"ADD_ATTENDEE",data:e})},addInfo:function(e){return t({type:"ADD_INFO",data:e})},proceedToPayment:function(e){return t({type:"SUBMIT_ATTENDEE",data:e})}})}}),Object(s.jsx)(b,{state:"additional_information",children:function(t){return Object(s.jsx)(f,{onSubmit:function(e){return t({type:O,data:e})}})}}),Object(s.jsx)(b,{state:"payment",children:function(){return Object(s.jsx)("h2",{children:"payment"})}})]})})},A=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,c=e.getLCP,r=e.getTTFB;n(t),i(t),a(t),c(t),r(t)}))};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(I,{})}),document.getElementById("root")),A()}},[[42,1,2]]]);
//# sourceMappingURL=main.55458dab.chunk.js.map